

import { test, expect } from "@playwright/test"

test("visual regression testing!", async function({ page })
{
    await page.goto("http://127.0.0.1:5500/first.html")

    await expect(page).toHaveScreenshot("login.png", { fullPage: true})

    await page.waitForTimeout(2000)
})

========================================================================
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Visual Test Demo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
    }

    .card {
      width: 300px;
      margin: 100px auto;
      padding: 20px;
      background: white;
      border-radius: 8px;
      text-align: center;
    }

    button {
      margin-top: 15px;
      padding: 10px 20px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 10px;
    }
  </style>
</head>
<body>

  <div class="card">
    <h2>Login</h2>
    <p>Welcome back</p>
    <button>Login</button>
  </div>

</body>
</html>
=======================================================
npx playwright test --update-snapshots

=====================================================
// mouse events
// click, double click, right click, hover, .........................


import { test, expect } from "@playwright/test"

// test("mouse events!", async function({ page })
// {
//     await page.goto("https://www.magicbricks.com")

//     // await page.getByText("Rent", { exact: true }).nth(0).hover()

//     await page.waitForTimeout(5000)
// })


// test("mouse events!", async function({ page })
// {
//     await page.goto("https://qa-automation-practice.netlify.app/double-click")

//    await page.locator("#double-click-btn").dblclick()

//     await page.waitForTimeout(5000)
// })



// test("mouse events!", async function({ page })
// {
//     await page.goto("https://swisnl.github.io/jQuery-contextMenu/demo.html")

//    await page.getByText("right click me", { exact: true }).click({ button: 'right' })

//     await page.waitForTimeout(5000)
// })


// .click({button: 'left'}) ==> left
// .click({button: 'right'}) ==> right



// drag and drop
// test("mouse events!", async function({ page })
// {
//     await page.goto("https://demo.automationtesting.in/Static.html")

//     const sourceEle = page.locator("#angular")
//     const destEle = page.locator("#droparea")
//     await sourceEle.dragTo(await destEle)

//     await page.waitForTimeout(5000)
// })


test("mouse events!", async function({ page })
{
    await page.goto("https://demo.automationtesting.in/Static.html")

    const sourceEle = await page.locator("#angular").hover()
    await page.mouse.down() // pressing the button

    const destEle = await page.locator("#droparea").hover()
    await page.mouse.up() // releasing the button
   

    await page.waitForTimeout(5000)
})
=========================

test("mouse events and keyboard events!", async function({ page })
{
    await page.goto("https://gotranscript.com/text-compare")

    await page.mouse.wheel(0, 200)

    await page.locator("//textarea[@name='text1']").fill("Welcome")

    await page.keyboard.press("Control+A")

    await page.keyboard.press("Control+C")

    await page.keyboard.press("Tab")

    await page.keyboard.press("Control+V")
    
    await page.waitForTimeout(5000)

})
==============================

test("mouse events and keyboard events!", async function({ page })
{
    await page.goto("https://gotranscript.com/text-compare")

    // await page.mouse.wheel(0, 200)

    const src = page.locator("//textarea[@name='text1']")

    await src.scrollIntoViewIfNeeded()
    
    await src.fill("Welcome")

    await page.keyboard.press("Control+A")

    await page.keyboard.press("Control+C")

    await page.keyboard.press("Tab")

    await page.keyboard.press("Control+V")
    
    await page.waitForTimeout(5000)

})
======================================================================
// test("mouse events and keyboard events!", async function({ page })
// {
//     await page.goto("https://www.facebook.com")

//     // enter email
//     const email = page.locator("#email")
//     await email.fill("Raju@gmail.com")
//     await expect(email).toHaveValue("Raju@gmail.com")

//     // enter password
//     await page.locator("#pass").fill("Welcome@1234")
//     // click login
//     const loginBtn = page.locator("//button[@name='login']")
//     // home page getting dispalyed or not
//     await expect(loginBtn).toBeVisible()

//     // check whether that button is enabled or not
//     await expect(loginBtn).toBeEnabled()

//     await loginBtn.click()
//     // write to click on login

//     // =========================================
    
//     // let expectedTitle = "Facebook"
//     // await expect(page).toHaveTitle(expectedTitle)

//     // ============================================

//     // await expect(page).toHaveURL("https://www.facebook.com")


//     // toHaveText()
//     // toContain()
//     // toBe()
   
    
//     await page.waitForTimeout(5000)

// })



// test("mouse events and keyboard events!", async function({ page })
// {
//     await page.goto("https://testautomationpractice.blogspot.com/")

//     const day = page.locator("#sunday")
//     await day.check()

//     await expect(day).toBeChecked()


    
//     await page.waitForTimeout(5000)

// })



test("assertions!", async function({ page })
{
    await page.goto("https://www.facebook.com")

    // enter email
    const email = page.locator("#email")
    await email.fill("Raju@gmail.com")
    await expect(email).toHaveValue("Raju@gmail.com")

    // enter password
    await page.locator("#pass").fill("Welcome@1234")
    // click login
    const loginBtn = page.locator("//button[@name='login']")
    // home page getting dispalyed or not
    await expect.soft(loginBtn).toBeDisabled()

    // check whether that button is enabled or not
    await expect.soft(loginBtn).toBeEnabled()

    await loginBtn.click()
   
    
    await page.waitForTimeout(5000)

})
============================================================================
Assertions:-
For every test case, we want to track whether it has
passed OR failed based on some condition. we use assertions for this!

Hard Assertion
When we have multiple assertions one below the other, if one assertions fails, the remaining assertions below that doesn't execute.

NOTE: playwright has assertions which is hard assertion by default

Soft Assertion
await expect.soft(page).toHaveText("Mobile")
await expect.soft(page).toHaveText("Books")
await expect.soft(page).toHaveText("Sofa")
await expect(page).toHaveText("Food")
