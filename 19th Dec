// import { test} from '@playwright/test';

// test("mocking", async function({ page })
// {

//     // logic
//     await page.route("/products", async function(info)
//     {
//         // logic to give back the response
//         await info.fulfill({
//             body: JSON.stringify([ { id: 1, name: "Mobile" }, { id: 1, name: "Laptop" } ])
//         })

//     })

//     await page.goto("https://fakestoreapi.com/products")

//     await page.waitForTimeout(10000)

// })
=================================================================================



 ðŸ§µ 1ï¸âƒ£ Parallel Execution Commands

| Purpose                         | CLI Syntax                                   |
| ------------------------------- | -------------------------------------------- |
| Run tests in parallel (default) | npx playwright test                        |
| Set number of workers           | npx playwright test --workers=4            |
| Run tests sequentially          | npx playwright test --workers=1            |
| Disable parallel fully          | npx playwright test --fully-parallel=false |
| Override workers from config    | npx playwright test --workers=2            |

---

 ðŸ“‚ 2ï¸âƒ£ Control Tests Across Multiple Spec Files

| Purpose                          | CLI Syntax                                                   |
| -------------------------------- | ------------------------------------------------------------ |
| Run all spec files               | npx playwright test                                        |
| Run multiple specific spec files | npx playwright test tests/login.spec.ts tests/cart.spec.ts |
| Run all specs inside folder      | npx playwright test tests/auth                             |
| Run specs matching pattern       | npx playwright test tests//login.spec.ts                |

---

ðŸŽ¯ Run Particular Test in Particular Spec File

| Purpose                     | Command Syntax                                            |          |
| --------------------------- | --------------------------------------------------------- | -------- |
| Run test by name in spec    | npx playwright test tests/login.spec.ts -g "login test" |          |
| Run test using partial name | npx playwright test tests/login.spec.ts -g "login"      |          |
| Run multiple tests (regex)  | npx playwright test tests/login.spec.ts -g "login        | logout" |

---

 ðŸ“„ 3ï¸âƒ£ Run Tests in a Particular Spec File

| Purpose                      | CLI Syntax                                            |
| ---------------------------- | ----------------------------------------------------- |
| Run one spec file            | npx playwright test tests/login.spec.ts             |
| Run spec file in headed mode | npx playwright test tests/login.spec.ts --headed    |
| Run spec with single worker  | npx playwright test tests/login.spec.ts --workers=1 |

---

 ðŸ§ª 4ï¸âƒ£ Headless vs Headed Execution

| Purpose                        | CLI Syntax                                   |
| ------------------------------ | -------------------------------------------- |
| Run in headless mode (default) | npx playwright test                        |
| Run in headed mode             | npx playwright test --headed               |
| Headed for single spec         | npx playwright test login.spec.ts --headed |
| Headed + single worker         | npx playwright test --headed --workers=1   |

---

 ðŸ” 5ï¸âƒ£ Retries Control

| Purpose                  | CLI Syntax                                      |
| ------------------------ | ----------------------------------------------- |
| Use retries from config  | npx playwright test                           |
| Override retries via CLI | npx playwright test --retries=2               |
| Disable retries          | npx playwright test --retries=0               |
| Retries for one spec     | npx playwright test login.spec.ts --retries=1 |

---

 âŒ 6ï¸âƒ£ Failed Tests Handling

| Purpose                          | CLI Syntax                                      |
| -------------------------------- | ----------------------------------------------- |
| Run only failed tests            | npx playwright test --last-failed             |
| Re-run failed tests sequentially | npx playwright test --last-failed --workers=1 |
| Re-run failed tests headed       | npx playwright test --last-failed --headed    |
| Run with retries for failures    | npx playwright test --retries=2               |

---

 ðŸŽ¯ 7ï¸âƒ£ Combine Multiple Controls (Real-World Usage)

| Scenario                    | CLI Syntax                                             |
| --------------------------- | ------------------------------------------------------ |
| Run failed tests headed     | npx playwright test --last-failed --headed           |
| Run login spec sequentially | npx playwright test login.spec.ts --workers=1        |

================================================================================

 1ï¸âƒ£ page.goto() â€” Open a page

 ðŸ”¹ What it does

Opens a new URL in the current browser tab.

 ðŸ”¹ When to use (Real use cases)

 Open application URL
 Navigate to a specific page directly
 Start point of almost every test

 âœ… Example

ts
await page.goto('https://example.com');


 ðŸ§  Real scenario

âž¡ï¸ Open login page before testing login

ts
await page.goto('https://example.com/login');


---

 2ï¸âƒ£ page.goBack() â€” Go to previous page

 ðŸ”¹ What it does

Simulates browser Back button.

 ðŸ”¹ When to use

 User clicks a link and returns back
 Testing browser navigation behavior
 Verify state is preserved after back

 âœ… Example

ts
await page.goto('https://example.com');
await page.click('a[href="/products"]');

await page.goBack();


 ðŸ§  Real scenario

âž¡ï¸ User opens product page â†’ clicks Back â†’ returns to home page

ts
await page.goto('https://shop.com');
await page.click('product1');

await page.goBack();
await expect(page).toHaveURL('https://shop.com');


---

 3ï¸âƒ£ page.goForward() â€” Go to next page

 ðŸ”¹ What it does

Simulates browser Forward button.

 ðŸ”¹ When to use

 After goBack(), user clicks Forward
 Test browser navigation stack

 âœ… Example

ts
await page.goForward();


 ðŸ§  Real scenario

âž¡ï¸ Home â†’ Product â†’ Back â†’ Forward

ts
await page.goto('https://shop.com');
await page.click('product1');

await page.goBack();
await page.goForward();

await expect(page).toHaveURL(/product/);


---

 4ï¸âƒ£ page.reload() â€” Refresh the page

 ðŸ”¹ What it does

Reloads current page (like browser refresh ðŸ”„)

 ðŸ”¹ When to use

 Verify page survives refresh
 Test persistence (session, cookies, data)
 Re-fetch data after actions

 âœ… Example

ts
await page.reload();


 ðŸ§  Real scenario

âž¡ï¸ After login, refresh page and verify user still logged in

ts
await page.goto('https://app.com/dashboard');
await page.reload();

await expect(page.locator('username')).toBeVisible();


---

 ðŸ” Complete Real-World Flow Example

ts
import { test, expect } from '@playwright/test';

test('browser navigation example', async ({ page }) => {

  // Open home page
  await page.goto('https://shop.com');

  // Navigate to product page
  await page.click('product1');

  // Go back to home
  await page.goBack();
  await expect(page).toHaveURL('https://shop.com');

  // Go forward again
  await page.goForward();
  await expect(page).toHaveURL(/product/);

  // Refresh product page
  await page.reload();
});


---

 ðŸ§  Important Notes (Very Important)

 â— Navigation commands auto-wait

Playwright waits for page load automatically, no need for waitForTimeout().

 â— goBack() / goForward() return null

If thereâ€™s no history, they return null.

ts
const response = await page.goBack();
if (response === null) {
  console.log('No previous page');
}


=================================================
 ðŸ§  Playwright Architecture

Think of Playwright like this:

> You write instructions â†’ Playwright manages browser â†’ Browser does the work

---

 ðŸ”· Big Picture (One Look)


Your Test Code
     â†“
Playwright Test Runner
     â†“
Browser (Chrome / Firefox / Safari)


---

 1ï¸âƒ£ Your Test Code (What YOU write)

Example:

ts
test('login test', async ({ page }) => {
  await page.goto('https://site.com');
  await page.fill('user', 'admin');
  await page.click('login');
});


 What this means

 You do not open browser manually
 You do not create tabs
 You just tell WHAT to do

ðŸ‘‰ You are NOT controlling browser directly

---

 2ï¸âƒ£ Playwright Test Runner (Main Brain ðŸ§ )

This is the MOST IMPORTANT PART.

 What Test Runner does for you

 Starts tests
 Opens browser
 Creates new session
 Gives you page
 Runs tests in parallel
 Closes everything
 Generates report

 Example

ts
test('example', async ({ page }) => {
  // page is already ready!
});


â“ Who created page?
ðŸ‘‰ Test Runner created it and handed it to your test

---

 3ï¸âƒ£ Browser (Real Browser)

Playwright controls REAL browsers, not fake ones.

| Playwright | Browser      |
| ---------- | ------------ |
| Chromium   | Chrome, Edge |
| Firefox    | Firefox      |
| WebKit     | Safari       |

âš ï¸ No Selenium
âš ï¸ No WebDriver
âš ï¸ Direct control (fast & stable)

---

 4ï¸âƒ£ Very Important Internal Objects (Core Architecture)

 ðŸ”¹ Browser

 One browser instance
 Heavy object

ts
browser = chromium.launch()


---

 ðŸ”¹ Browser Context (MOST IMPORTANT ðŸ”¥)

Think of Browser Context = Incognito Window

 Separate session
 No cookies shared
 No cache shared
 Each test gets a new context

ts
context = browser.newContext()


ðŸ‘‰ This is why tests donâ€™t affect each other.

---

 ðŸ”¹ Page

Think of Page = Browser Tab

 All actions happen here
 Click, fill, scroll, etc.

ts
page = context.newPage()


---

 ðŸ”— Relationship (Remember This)


Browser
  â””â”€â”€ Context (Incognito)
        â””â”€â”€ Page (Tab)


---

 ðŸ”„ What Happens When You Run a Test

When you run:

bash
npx playwright test


 Internally:


1. Test Runner starts
2. Browser opens
3. New Context created
4. New Page (tab) created
5. Test steps executed
6. Screenshot / trace saved (if failed)
7. Page closed
8. Context closed
9. Browser closed


---

 ðŸ§ª Real Example with Architecture Mapping

ts
test('add to cart', async ({ page }) => {
  await page.goto('/products'); // Page
  await page.click('item1');   // Page
});


Behind the scenes:

 page â†’ belongs to a context
 context â†’ belongs to a browser
 browser â†’ controlled by Playwright

---
